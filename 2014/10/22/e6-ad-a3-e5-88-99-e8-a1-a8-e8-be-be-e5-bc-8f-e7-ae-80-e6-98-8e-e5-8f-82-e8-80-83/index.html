<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="生命应该浪费在美好的人和事上"><title>正则表达式简明参考 | Lost Temple</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-27989519-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">正则表达式简明参考</h1><a id="logo" href="/.">Lost Temple</a><p class="description">生命应该浪费在美好的人和事上</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">正则表达式简明参考</h1><div class="post-meta">Oct 22, 2014<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2014/10/22/e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e7-ae-80-e6-98-8e-e5-8f-82-e8-80-83/" href="/2014/10/22/e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e7-ae-80-e6-98-8e-e5-8f-82-e8-80-83/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>前言</p>
<p>我想在网上最出名的正则相关的一篇文章就是《正则表达式30分钟入门教程》了，说实话这篇文章确实是我的正则入门，但是随着使用熟练，冗长的文章已经不能满足我了，在此做个归纳总结，用于快速查阅。</p>
<p>以下语法在Java中有效，大部分应该是通用的。</p>
<p>元字符</p>
<p>元字符，又叫字符集，就是用一些特殊符号表示特定种类的字符或位置。</p>
<p>匹配字符</p>
<p>. 匹配除换行符以外的任意字符<br>\w 匹配字母或数字或下划线或汉字<br>\s 匹配任意的空白符<br>\d 匹配数字<br>匹配位置</p>
<p>\b 匹配单词的开始或结束<br>^ 匹配字符串的开始<br>$ 匹配字符串的结束<br>\G 上一个匹配的结尾（本次匹配开始）<br>\A 字符串开头(类似^，但不受处理多行选项的影响)<br>\Z 字符串结尾或行尾(不受处理多行选项的影响)<br>\z 字符串结尾(类似$，但不受处理多行选项的影响)<br>重复</p>
<ul>
<li>重复零次或更多次</li>
</ul>
<ul>
<li>重复一次或更多次<br>? 重复零次或一次<br>{n} 重复n次<br>{n,} 重复n次或更多次<br>{n,m} 重复n到m次<br>字符转义</li>
</ul>
<p>如果想匹配元字符本身或者正则中的一些特殊字符，使用\转义。例如匹配<em>这个字符则使用\</em>，匹配\这个字符，使用\。</p>
<p>需要转义的字符：$, (, ), *, +, ., [, ], ?, \, ^, {, }, |</p>
<p>字符类</p>
<p>当需要匹配明确的字符或字符集合时候，就用到字符类。</p>
<p>特殊字符</p>
<p>\0hh 8进制值hh所表示的字符<br>\xhh 16进制值hh所表示的字符<br>\uhhhh 16进制值hhhh所表示的Unicode字符<br>\t Tab<br>\n 换行符<br>\r 回车符<br>\f 换页符<br>\e Escape<br>\cN ASCII控制字符。比如\cC代表Ctrl+C<br>\p{name} Unicode中命名为name的字符类，例如\p{IsGreek}<br>陈列</p>
<p>[aeiou] 匹配一个元音字符<br>[.?!] 匹配给定的一个标点<br>范围</p>
<p>[0-9] 匹配0~9的数字，同\d<br>[a-z] 匹配所有小写字母<br>[a-zA-Z] 匹配所有字母<br>[a-z0-9A-Z_] 等同于\w<br>反义</p>
<p>表示不属于元字符或者字符类的字符</p>
<p>反义元字符</p>
<p>\W 匹配任意不是字母，数字，下划线，汉字的字符<br>\S 匹配任意不是空白符的字符<br>\D 匹配任意非数字的字符<br>\B 匹配不是单词开头或结束的位置<br>反义字符类</p>
<p>[^x] 匹配除了x以外的任意字符<br>[^aeiou] 匹配除了aeiou这几个字母以外的任意字符<br>分枝条件</p>
<p>又叫逻辑运算符，在此X和Y表示两个表达式</p>
<p>XY X紧跟Y<br>X|Y 表示X或Y，从左到右，满足第一个条件就不会继续匹配了。<br>分组</p>
<p>在这里我把表达式统一以\w为例：</p>
<p>(\w) 被一个括号包围起来是一个整体，表示一个分组<br>(\w)(\w) 自动命名分组，第一个小括号是分组1，第二个小括号是分组2<br>(?’Word’\w+)) 表示定义了一个叫做Word的分组<br>(?<word>\w+)) 表示定义了一个叫做Word的分组<br>(?:\w+) 匹配exp,不捕获匹配的文本，也不给此分组分配组号<br>后向引用</word></p>
<p>后面的表达式可以引用前面的某个分组，用\1表示，就好像分组1的值赋值给了\1这个变量，这个变量可以在后面任意位置引用。</p>
<p>\1 表示分组1匹配的文本<br>\k<word> 表示分组Word匹配的文本<br>匹配重复两个的英文，例如匹配Hello Hello、lei123 lei123：</word></p>
<p>(\w+)\s+\1<br>(?<word>\w+)\s+\k</word><word><br>零宽断言（正向和负向）</word></p>
<p>零宽断言表示匹配字符的时候再添加一些定位条件，使匹配更精准。</p>
<p>\w+(?=ing) 匹配以ing结尾的多个字符（不包括ing）<br>\w+(?!ing) 匹配不是以ing结尾的多个字符<br>(?&lt; =re)\w+ 匹配以re开头的多个字符（不包括re）<br>(?&lt;!re)\w+ 匹配不是以re开头的多个字符<br>(?&lt;=\s)\d+(?=\s) 匹配两边是空白符的数字，不包括空白符<br>贪婪与懒惰</p>
<p>贪婪：匹配尽可能长的字符串</p>
<p>懒惰：匹配尽可能短的字符串</p>
<p>懒惰模式的启用只需在重复元字符之后加?既可。</p>
<p>*? 重复任意次，但尽可能少重复<br>+? 重复1次或更多次，但尽可能少重复<br>?? 重复0次或1次，但尽可能少重复<br>{n,m}? 重复n到m次，但尽可能少重复<br>{n,}? 重复n次以上，但尽可能少重复<br>处理选项</p>
<p>在表达式里插记号的方式来启用绝大多数的模式，在正则的哪里插入，就从哪里启用。</p>
<p>(?i)：忽略大小写(CASE_INSENSITIVE)<br>(?x)：忽略空格字符(COMMENTS)<br>(?s)：.匹配任意字符，包括换行符（DOTALL）<br>(?m)：多行模式（MULTILINE）<br>(?u)：对Unicode符大小写不敏感（UNICODE_CASE），必须启用CASE_INSENSITIVE<br>(?d)：只有’\n’才被认作一行的中止（UNIX_LINES）<br>平衡组/递归匹配</p>
<p>平衡组用于匹配嵌套层次结构，常用于匹配HTML标签（当HTML内容不规范，起始标签和结束标签数量不同时，匹配出正确配对的标签），在此把表达式统一以\w为例。</p>
<p>(?’group’\w) 捕获的分组（\w匹配到的内容）命名为group，并压入堆栈<br>(?’-group’\w) 捕获分组（\w匹配到的内容）后，弹出group分组栈的栈顶内容（最后压入的捕获内容），堆栈本来为空，则本分组的匹配失败<br>(?(group)yes|no) 如果group栈非空匹配表达式yes，否则匹配表达式no<br>(?!) 零宽负向先行断言，由于没有后缀表达式，试图匹配总是失败<br>注释</p>
<p>注释语法：(?#comment)，这个语法的内容会被正则忽略，用于注释含义。可以放在正则表达式的任意位置。</p>
<p>参考：</p>
<p>[正则表达式30分钟入门教程</p>
<p><a href="http://www.java3z.com/cwbwebhome/article/article2/2311.html?id=877" target="_blank">正则表达式](http://www.jb51.net/tools/zhengze.html)</a></p>
<p>源地址：http://www.xiaoleilu.com/regex-guide/</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://niasand.github.com/2014/10/22/e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e7-ae-80-e6-98-8e-e5-8f-82-e8-80-83/" data-id="cjbuvcuxp008tryje48hy28ft" class="article-share-link">Share</a><div class="tags"></div><div class="post-nav"><a href="/2014/11/04/e7-ac-ac-e4-b8-80-e6-ac-a1-e6-97-85-e6-b8-b8-e5-8d-8e-e4-b8-9c/" class="pre">第一次旅游--华东</a><a href="/2014/10/08/e6-84-9f-e5-86-92-e5-8f-91-e7-83-a7-e5-a4-b4-e7-97-9b-e5-92-b3-e5-97-bd/" class="next">感冒发烧头痛咳嗽</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论 「请确保 disqus.com 可以正常加载」</button></div><script>var disqus_shortname = 'jerryang';
var disqus_identifier = '2014/10/22/e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e7-ae-80-e6-98-8e-e5-8f-82-e8-80-83/';
var disqus_title = '正则表达式简明参考';
var disqus_url = 'http://niasand.github.com/2014/10/22/e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e7-ae-80-e6-98-8e-e5-8f-82-e8-80-83/';
$('.btn_click_load').click(function() {
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  $('.btn_click_load').css('display','none');
});
$.ajax({
  url: 'https://disqus.com/favicon.ico',
  timeout: 3000,
  type: 'GET',
  success: (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    $('.btn_click_load').css('display','none');
  })(),
  error: function() {
    $('.btn_click_load').css('display','block');
  }
});</script><script id="dsq-count-scr" src="//jerryang.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://niasand.github.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/减肥/" style="font-size: 15px;">减肥</a> <a href="/tags/old-post/" style="font-size: 15px;">old post</a> <a href="/tags/归元寺/" style="font-size: 15px;">归元寺</a> <a href="/tags/汉街/" style="font-size: 15px;">汉街</a> <a href="/tags/2014/" style="font-size: 15px;">2014</a> <a href="/tags/国庆节/" style="font-size: 15px;">国庆节</a> <a href="/tags/17年度OKR/" style="font-size: 15px;">17年度OKR</a> <a href="/tags/杂谈/" style="font-size: 15px;">杂谈</a> <a href="/tags/杂谈-深圳/" style="font-size: 15px;">杂谈,深圳</a> <a href="/tags/Embrace/" style="font-size: 15px;">Embrace</a> <a href="/tags/appium/" style="font-size: 15px;">appium</a> <a href="/tags/圣诞节/" style="font-size: 15px;">圣诞节</a> <a href="/tags/wda/" style="font-size: 15px;">wda</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/constructor/" style="font-size: 15px;">constructor</a> <a href="/tags/类/" style="font-size: 15px;">类</a> <a href="/tags/逻辑/" style="font-size: 15px;">逻辑</a> <a href="/tags/回家/" style="font-size: 15px;">回家</a> <a href="/tags/绍兴/" style="font-size: 15px;">绍兴</a> <a href="/tags/思考/" style="font-size: 15px;">思考</a> <a href="/tags/六月/" style="font-size: 15px;">六月</a> <a href="/tags/八月/" style="font-size: 15px;">八月</a> <a href="/tags/C＋＋/" style="font-size: 15px;">Ｃ＋＋</a> <a href="/tags/出差/" style="font-size: 15px;">出差</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/效率/" style="font-size: 15px;">效率</a> <a href="/tags/回家难/" style="font-size: 15px;">回家难</a> <a href="/tags/准确率/" style="font-size: 15px;">准确率</a> <a href="/tags/工作/" style="font-size: 15px;">工作</a> <a href="/tags/学会表达/" style="font-size: 15px;">学会表达</a> <a href="/tags/愿望/" style="font-size: 15px;">愿望</a> <a href="/tags/移动互联网/" style="font-size: 15px;">移动互联网</a> <a href="/tags/五月杂谈/" style="font-size: 15px;">五月杂谈</a> <a href="/tags/思想观念/" style="font-size: 15px;">思想观念</a> <a href="/tags/更新观念/" style="font-size: 15px;">更新观念</a> <a href="/tags/flash/" style="font-size: 15px;">flash</a> <a href="/tags/元旦/" style="font-size: 15px;">元旦</a> <a href="/tags/灵魂的肥胖/" style="font-size: 15px;">灵魂的肥胖</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/越狱/" style="font-size: 15px;">越狱</a> <a href="/tags/old/" style="font-size: 15px;">old</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/装饰器/" style="font-size: 15px;">装饰器</a> <a href="/tags/quote/" style="font-size: 15px;">quote</a> <a href="/tags/reading/" style="font-size: 15px;">reading</a> <a href="/tags/tmux/" style="font-size: 15px;">tmux</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/wordpress/" style="font-size: 15px;">wordpress</a> <a href="/tags/分页/" style="font-size: 15px;">分页</a> <a href="/tags/中秋节/" style="font-size: 15px;">中秋节</a> <a href="/tags/yield/" style="font-size: 15px;">yield</a> <a href="/tags/十一月/" style="font-size: 15px;">十一月</a> <a href="/tags/杭州/" style="font-size: 15px;">杭州</a> <a href="/tags/杂谈-买房/" style="font-size: 15px;">杂谈, 买房</a> <a href="/tags/十月/" style="font-size: 15px;">十月</a> <a href="/tags/tensorflow/" style="font-size: 15px;">tensorflow</a> <a href="/tags/性能测试/" style="font-size: 15px;">性能测试</a> <a href="/tags/杂谈-支持正版/" style="font-size: 15px;">杂谈, 支持正版</a> <a href="/tags/杂谈-公众号/" style="font-size: 15px;">杂谈,公众号</a> <a href="/tags/2016/" style="font-size: 15px;">2016</a> <a href="/tags/总结/" style="font-size: 15px;">总结</a> <a href="/tags/深圳租房/" style="font-size: 15px;">深圳租房</a> <a href="/tags/新年快乐/" style="font-size: 15px;">新年快乐</a> <a href="/tags/金秋/" style="font-size: 15px;">金秋</a> <a href="/tags/9月/" style="font-size: 15px;">9月</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/不会开玩笑/" style="font-size: 15px;">不会开玩笑</a> <a href="/tags/go/" style="font-size: 15px;">go</a> <a href="/tags/Knapsack-pack/" style="font-size: 15px;">Knapsack_pack</a> <a href="/tags/基业长青/" style="font-size: 15px;">基业长青</a> <a href="/tags/健身/" style="font-size: 15px;">健身</a> <a href="/tags/wechat-fanfou/" style="font-size: 15px;">wechat, fanfou</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/Pandas的apply函数/">Pandas的apply函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/03/转型为技术博客/">转型为技术博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/25/冬天来了，春天还会远吗/">冬天来了，春天还会远吗</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/04/中秋节快乐/">中秋节快乐</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/28/背包问题学习/">背包问题学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/23/珍惜当下，过好每一天/">珍惜当下，过好每一天</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/03/贫嘴张大民的幸福生活/">贫嘴张大民的幸福生活</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/23/宝宝终于出院啦/">宝宝终于出院啦</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/22/在反思，在停止/">在反思，在停止</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/11/西部世界/">西部世界</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//jerryang.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://twitter.com/_B_B_8_" title="twitter" target="_blank">twitter</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Lost Temple.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>